<script>
// Connect WebSocket
const ws = new WebSocket(`ws://${window.location.host}/ws/online-status/`);

// Heartbeat every 25 seconds
setInterval(() => {
    if (ws.readyState === WebSocket.OPEN) {
        ws.send('ping');
    }
}, 25000);

// Auto-reconnect
ws.onclose = function() {
    setTimeout(() => {
        location.reload(); // Simplest: reload page
    }, 5000);
};
</script>